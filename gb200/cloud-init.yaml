#cloud-config
apt:
  sources:
    oke-node: {source: 'deb [trusted=yes] https://objectstorage.us-sanjose-1.oraclecloud.com/p/45eOeErEDZqPGiymXZwpeebCNb5lnwzkcQIhtVf6iOF44eet_efdePaF7T8agNYq/n/odx-oke/b/okn-repositories-private/o/prod/ubuntu-jammy/kubernetes-1.32 stable main'}
packages:
  - oci-oke-node-all-1.32.1
write_files:
  - path: /etc/oke/oke-apiserver
    permissions: '0644'
    content: 10.140.0.10
  - encoding: b64
    path: /etc/kubernetes/ca.crt
    permissions: '0644'
    content: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURpVENDQW5HZ0F3SUJBZ0lSQU5lY1VHRmxsbzZkRWNISE1PdHlvTmt3RFFZSktvWklodmNOQVFFTEJRQXcKWGpFUE1BMEdBMVVFQXd3R1N6aHpJRU5CTVFzd0NRWURWUVFHRXdKVlV6RVBNQTBHQTFVRUJ3d0dRWFZ6ZEdsdQpNUTh3RFFZRFZRUUtEQVpQY21GamJHVXhEREFLQmdOVkJBc01BMDlqYVRFT01Bd0dBMVVFQ0F3RlZHVjRZWE13CkhoY05NalV3TlRJeU1qQXlNakV4V2hjTk16QXdOVEl5TWpBeU1qRXhXakJlTVE4d0RRWURWUVFEREFaTE9ITWcKUTBFeEN6QUpCZ05WQkFZVEFsVlRNUTh3RFFZRFZRUUhEQVpCZFhOMGFXNHhEekFOQmdOVkJBb01Cazl5WVdOcwpaVEVNTUFvR0ExVUVDd3dEVDJOcE1RNHdEQVlEVlFRSURBVlVaWGhoY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCCkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU0yRktBdXFuN2R1U0RXTDR2UUY3eVh3bk5yelJBdlhUeHQ1VTlQQUw0aloKajhvbjVkQWJYYXdNT0NVYmpCWFJRNW55VGFiOUVpcUNJMHY5WHZmY3lVby85RXRDTE1RTHI0NGtqYllFZ0NEYwpiMG5YQm1NcG5GaG5wL1JaMCtKd05NZnp2RllLQVlhMmNpbVdXdFhRNE40NUVPUnVnYTJHUWRRQ0FFV21VQXMwCjRzWGgvSzZvK2xCWThWZ3ZibmdKUzYrVndqbzltTSsrcnFQZjVHaE56UnI5S1RMMkN5SXNibUcwelM0TEJGRG4KSERmaDdLaUVhNjdlTDdzd05HT0tQQjBvS0lGdzhDUjN0ZGdGQmFuNmJZczlONnduMXpDa3FaZ29ZUTMrSmVndQo2QVgvR1ZhS0tUc3o2eDVjVUNCckJ3aERNNUtuWUVLKzkrYnA0RDk2QlVFQ0F3RUFBYU5DTUVBd0R3WURWUjBUCkFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0hRWURWUjBPQkJZRUZMcUg0aVZtQTlPaGdGUXcKWVMwZlZZdDBJdTNpTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFCWCtnUFFiN2VubjdWaCtnR1NuMDVOVzk5cQozdFlSa2s1bXRGc1ZOSTRVWklJYUhlWmZsUUdUbDgzcW5sd3h4ZkVORWpheHNVTVA2ZUpSNmptYzBsY21aN2tqCk1zVkVIZlpiQy9GblJCd2tiZERHblJXS0w3VnMvbUVtUlZYb3V6TmJFUkxxcEttd0RYenNYdUlRVTdXbjJ1N1MKaGoyOVlaMjB4dHZtQWZQQ0E4QjVvS1FlSlhFVGY2M2psQldMQVh4azRHWnhvVER0WEw2cE5rK1NRS1o3bDlBQwoyaWp6UWcwcS9RYW4wSGE2RTVycnc0K1plckRyQkF2b3dTS20ySlR3MldHS01CTkxIeGcvU1pVRlFvT2hmWEZqCkxaYWpMbHVZS1o5cHVwR2tUNitpVlphZTNuaGticmxSbEtqdFIvZm80eXRyZksrY3lMWlVGVG52VGs5ZQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
runcmd:
  - oke bootstrap --apiserver-host 10.140.0.10 --ca "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURpVENDQW5HZ0F3SUJBZ0lSQU5lY1VHRmxsbzZkRWNISE1PdHlvTmt3RFFZSktvWklodmNOQVFFTEJRQXcKWGpFUE1BMEdBMVVFQXd3R1N6aHpJRU5CTVFzd0NRWURWUVFHRXdKVlV6RVBNQTBHQTFVRUJ3d0dRWFZ6ZEdsdQpNUTh3RFFZRFZRUUtEQVpQY21GamJHVXhEREFLQmdOVkJBc01BMDlqYVRFT01Bd0dBMVVFQ0F3RlZHVjRZWE13CkhoY05NalV3TlRJeU1qQXlNakV4V2hjTk16QXdOVEl5TWpBeU1qRXhXakJlTVE4d0RRWURWUVFEREFaTE9ITWcKUTBFeEN6QUpCZ05WQkFZVEFsVlRNUTh3RFFZRFZRUUhEQVpCZFhOMGFXNHhEekFOQmdOVkJBb01Cazl5WVdOcwpaVEVNTUFvR0ExVUVDd3dEVDJOcE1RNHdEQVlEVlFRSURBVlVaWGhoY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCCkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU0yRktBdXFuN2R1U0RXTDR2UUY3eVh3bk5yelJBdlhUeHQ1VTlQQUw0aloKajhvbjVkQWJYYXdNT0NVYmpCWFJRNW55VGFiOUVpcUNJMHY5WHZmY3lVby85RXRDTE1RTHI0NGtqYllFZ0NEYwpiMG5YQm1NcG5GaG5wL1JaMCtKd05NZnp2RllLQVlhMmNpbVdXdFhRNE40NUVPUnVnYTJHUWRRQ0FFV21VQXMwCjRzWGgvSzZvK2xCWThWZ3ZibmdKUzYrVndqbzltTSsrcnFQZjVHaE56UnI5S1RMMkN5SXNibUcwelM0TEJGRG4KSERmaDdLaUVhNjdlTDdzd05HT0tQQjBvS0lGdzhDUjN0ZGdGQmFuNmJZczlONnduMXpDa3FaZ29ZUTMrSmVndQo2QVgvR1ZhS0tUc3o2eDVjVUNCckJ3aERNNUtuWUVLKzkrYnA0RDk2QlVFQ0F3RUFBYU5DTUVBd0R3WURWUjBUCkFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0hRWURWUjBPQkJZRUZMcUg0aVZtQTlPaGdGUXcKWVMwZlZZdDBJdTNpTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFCWCtnUFFiN2VubjdWaCtnR1NuMDVOVzk5cQozdFlSa2s1bXRGc1ZOSTRVWklJYUhlWmZsUUdUbDgzcW5sd3h4ZkVORWpheHNVTVA2ZUpSNmptYzBsY21aN2tqCk1zVkVIZlpiQy9GblJCd2tiZERHblJXS0w3VnMvbUVtUlZYb3V6TmJFUkxxcEttd0RYenNYdUlRVTdXbjJ1N1MKaGoyOVlaMjB4dHZtQWZQQ0E4QjVvS1FlSlhFVGY2M2psQldMQVh4azRHWnhvVER0WEw2cE5rK1NRS1o3bDlBQwoyaWp6UWcwcS9RYW4wSGE2RTVycnc0K1plckRyQkF2b3dTS20ySlR3MldHS01CTkxIeGcvU1pVRlFvT2hmWEZqCkxaYWpMbHVZS1o5cHVwR2tUNitpVlphZTNuaGticmxSbEtqdFIvZm80eXRyZksrY3lMWlVGVG52VGs5ZQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==" --kubelet-extra-args "--feature-gates=DynamicResourceAllocation=true"
ssh_authorized_keys:
  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCqftxN9j+mN75JKR5sOUfc6k3YZbU9f+3TUD7OdBJY03T5PDFbQxn0m2BbcyFig1piksOGFxihq1AfJH3ANvYYTOV14qUPo3fnBdxYcelkABA/QMIqcU5boroG97Gh5XmzEWga5EmGmP8ITjWSzBJveyXXN64rIBtdP/uomvKBRcK18MZ8txSiQVbHKYZ2l6dvo099AoVetN/A18K/V+NPQvr+oGmq55XTiw0k2BlTT7oJndrp8uBQikQF5RjPB5qE3HncMzzWEoJh8WPWu+OLZUTuhyLQQYcdQdZJaEqinwQUXHQF581mgISC+WHDcQiMtzlTwWcmxQC9p/dqnrwX afroidmo@afroidmo-mac
  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIwZXnHrnvtAvP8wfgQBLZ9tGnBKCGxd0beP3POUhWER+jXE/N/nfMeg8arLITO6ravSCS18TUgZbcYQHSFBFjppzvPb7dcG0S1asoYI5WDDtjeL7BAYC6E/zw49o4qmJpLmp7ZjBT5/AHmk2NE1yIy2dz6y1HnHeW68Ah2o41sZuBeHsFF3+sMh0d2Mrlm88kG/3jUoZAi5loio/exMzJjN0RbE0V5KM6PJbdwspbSO0BS3cONZjAayP0dCf0YiymgsSj3Wrwx6y/b9V2tD5xBs0irjKbOwRW41DmHZxp55KjHjvhnoydMJ3dmfIvKJRxG61WkV28mzN/fhRHTPC/ opastirm@opastirm-mac
